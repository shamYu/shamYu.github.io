(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{182:function(e,n,t){"use strict";t.r(n);var s=t(0),r=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"content"},[n("h3",{attrs:{id:"es5实现promise"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#es5实现promise","aria-hidden":"true"}},[this._v("#")]),this._v(" ES5实现Promise")]),this._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[this._v("function MyPromise(fn) {\n  this.value;\n  this.resolveFunc = function() {};\n  this.rejectFunc = function() {};\n  fn(this.resolve.bind(this), this.reject.bind(this));\n}\n\nMyPromise.prototype.resolve = function(val) {\n  var self = this;\n  self.value=val;\n  setTimeout(function() {\n    self.resolveFunc(self.value);\n  }, 0);\n}\n\nMyPromise.prototype.reject = function(val) {\n  var self=this;\n  self.value=val;\n  setTimeout(function() {\n    self.rejectFunc(self.value);\n  }, 0);\n}\n\nMyPromise.prototype.then = function(resolveFunc, rejectFunc) {\n  this.resolveFunc = resolveFunc;\n  this.rejectFunc = rejectFunc;\n}\n\nvar fn=function(resolve, reject){\n  console.log('begin to execute!');\n  var number=Math.random();\n  if(number<=0.5){\n    resolve('less than 0.5');\n  }else{\n    reject('greater than 0.5');\n  }\n}\n\nvar p = new MyPromise(fn);\np.then(function(data) {\n  console.log('resolve: ', data);\n}, function(data) {\n  console.log('reject: ', data);\n});\n")])])])])}],!1,null,null,null);n.default=r.exports}}]);